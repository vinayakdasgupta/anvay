<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Topics vs Coherence</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center">Topics vs Coherence Plot</h1>
        <form id="coherence-form" action="/coherence" method="POST" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="files" class="form-label">Upload Text Files</label>
                <input type="file" id="files" name="files[]" class="form-control" multiple required>
                <small class="form-text text-muted">Upload one or more .txt files for LDA topic modeling.</small>
            </div>

            <h3 class="mt-4">LDA Parameters</h3>
            <div class="row">
                <div class="col-md-4">
                    <div class="mb-3">
                        <label for="min_topics" class="form-label">Minimum Number of Topics</label>
                        <input type="number" id="min_topics" name="min_topics" class="form-control" value="2" min="2" required>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="mb-3">
                        <label for="max_topics" class="form-label">Maximum Number of Topics</label>
                        <input type="number" id="max_topics" name="max_topics" class="form-control" value="20" min="2" required>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="mb-3">
                        <label for="step" class="form-label">Step Size</label>
                        <input type="number" id="step" name="step" class="form-control" value="1" min="1" required>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4">
                    <div class="mb-3">
                        <label for="iterations" class="form-label">Number of Iterations</label>
                        <input type="number" id="iterations" name="iterations" class="form-control" value="100" min="1" required>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="mb-3">
                        <label for="chunk_size" class="form-label">Chunk Size</label>
                        <input type="number" id="chunk_size" name="chunk_size" class="form-control" value="1000" min="1" required>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="mb-3">
                        <label for="ngram" class="form-label">N-Gram Model</label>
                        <select id="ngram" name="ngram" class="form-select">
                            <option value="unigram" selected>Unigram</option>
                            <option value="bigram">Bigram</option>
                            <option value="trigram">Trigram</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="alpha" class="form-label">Alpha Parameter</label>
                        <select id="alpha" name="alpha" class="form-select">
                            <option value="asymmetric" selected>Asymmetric</option>
                            <option value="symmetric">Symmetric</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="per_word_topics" class="form-label">Per Word Topics</label>
                        <select id="per_word_topics" name="per_word_topics" class="form-select">
                            <option value="false" selected>False</option>
                            <option value="true">True</option>
                        </select>
                    </div>
                </div>
            </div>

            <h3 class="mt-4">Filtering Options</h3>
            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="no_below" class="form-label">No Below (Minimum Document Frequency)</label>
                        <input type="number" id="no_below" name="no_below" class="form-control" value="1" min="1" required>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="no_above" class="form-label">No Above (Maximum Document Proportion)</label>
                        <input type="number" id="no_above" name="no_above" class="form-control" value="0.9" step="0.1" min="0.1" max="1" required>
                    </div>
                </div>
            </div>

            <div class="text-center">
                <button type="submit" class="btn btn-primary">Generate Coherence Plot</button>
            </div>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
